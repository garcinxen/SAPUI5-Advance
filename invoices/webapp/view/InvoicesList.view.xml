<mvc:View controllerName="logaligroup.invoices.controller.InvoicesList"
          xmlns="sap.m"
          xmlns:mvc="sap.ui.core.mvc">
    <Panel id="panel3"
           accessibleRole="Region">
        <headerToolbar>
            <Toolbar id="invoicesToolbar">
                <Title id="titleInvoices"
                       text="{i18n>invoiceListTitle}" />
                <ToolbarSpacer id="spacer" />
                <SearchField id="searchInvoice"
                             width="50%"
                             search=".onFilterInvoice" 
                             placeholder="{i18n>searchPlaceHolder}"/>
            </Toolbar>
        </headerToolbar>
        <Table id="invoiceList"
               headerText="{i18n>invoiceListTitle}"
               class="sapUiResponsiveMArgin"
               width="auto"
               items="{path: 'northwind>/Invoices',
                    sorter: {path: 'ShipperName',
                            group: true }
                    }">            
            <columns>
                <Column id="colQuan"
                        hAlign="End"
                        minScreenWidth="Small"
                        demandPopin="true"
                        width="6em">
                    <Text id="colQuanText"
                        text="{i18n>columnQuantity}"/>                  
                </Column>
                <Column id="colNam">
                    <Text id="colNamText"
                        text="{i18n>columnName}"/>                  
                </Column>
                <Column id="colStat"
                        minScreenWidth="Small"
                        demandPopin="true">
                    <Text id="colStatText"
                        text="{i18n>columnStatus}"/>                  
                </Column>
                <Column id="colSupp"
                        minScreenWidth="Tablet">
                    <Text id="colSuppText"
                        text="{i18n>columnSupplier}"/>                  
                </Column>
                <Column id="colPrice"
                        hAlign="End">
                    <Text id="colPriceText"
                        text="{i18n>columnPrice}"/>                  
                </Column>
            </columns>

            <items>
                <ColumnListItem id="colListItems"
                                type="Navigation"
                                press="navigateToDetails">
                    <cells>
                        <ObjectNumber id="itemQuan" 
                                      number="{northwind>Quantity}"
                                      emphasized="false"/>
                        <ObjectIdentifier id="itemProductName" 
                                          title="{northwind>ProductName}"/>
                        <Text id="itemStatus" 
                              text="{
                                path: 'northwind>Status',
                                formatter: '.formatter.invoiceStatus'
                              }"/>
                        <Text id="itemShipName"
                              text="{northwind>ShipperName}"/>
                        <ObjectNumber id="itemPrice"
                                      number="{ parts: [{path: 'northwind>ExtendedPrice'},
                                                        {path: 'currencyUnit>/usd'}],
                                                type:'sap.ui.model.type.Currency',
                                                formatOptions: {
                                                    showMeasure: false,
                                                    decimals: 2,
                                                    style: 'short'                                    
                                                }
                                            }"
                                    unit="{currencyUnit>/usd}"
                                    state="{= ${northwind>ExtendedPrice} > 50 ? 'Success' : 'Error'}"/>
                    </cells>
                </ColumnListItem>
            </items>
        </Table>
    </Panel>
</mvc:View>